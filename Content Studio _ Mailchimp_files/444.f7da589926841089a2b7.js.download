(window.webpackJsonp=window.webpackJsonp||[]).push([[444],{104:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return i}));a(52);var n={style:"decimal",useGrouping:!0};function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=e;return"number"!=typeof e&&(a=Number(e),isNaN(a))?e:a.toLocaleString("en-US",t)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(isNaN(e))return e;for(var a=e,n=0,r=["","K","M","B","T"];a>=1e3&&n<r.length-1;)a/=1e3,n+=1;return Number.isSafeInteger(a)||(a=a.toFixed(t)),"".concat(a).concat(r[n])}function l(e,t,a){if(!(isNaN(e)||isNaN(t)||isNaN(a))){var n=e/t*100,r=[];if(a>0){for(var c=0;c<a;c++)r.push(0);r.pop(),r.push(1),r=parseFloat("0.".concat(r.join("")))}else r=1;return n=n>0&&n<r?"< ".concat(r):n.toFixed(a),"".concat(n,"%")}}function s(e){return"number"==typeof e?e:void 0===e?0:("string"==typeof e&&(e=e.replace(/[^0-9.+-]/g,"")),Number(e))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(e)||isNaN(t))throw new Error("Please provide only numbers as arguments to fn roundToDecimal.");var a=parseFloat(e),n=parseFloat(t),r=Math.pow(10,n),c=Math.round(a*r)/r;return c.toFixed(t)}},2177:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n="https://mailchimp.com";switch(location.hostname.split(".")[0]){case"dev":case"dev-plums":n="https://dev-plums.mailchimp.com";break;case"plums":n="https://plums.mailchimp.com";break;default:n="https://mailchimp.com"}function r(e){var t=e.queryName,a=e.locale,r=e.searchId,c=e.resultId,l=e.position;navigator.sendBeacon("".concat(n,"/search/insights/result-clicked/?").concat(new URLSearchParams({query_name:t,locale:a,search_id:r,result_id:c,position:l}).toString()))}},2824:function(e,t,a){"use strict";var n=a(1),r=a(6),c=a.n(r),l=a(12),s=a(34),i=a(48),u=a(149),o=a(81),d=a(7),p=a(533),f=a(50),m=a(315),b=a(365);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.b.UNSPECIFIED,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(s.a)(this,e),this.consumerId=t,this.purposeId=a,this.accessToken=null,this.environment=n||o.a.xapi.env,this._loadingClientPromise=null}var t,a,n,r;return Object(i.a)(e,[{key:"initClient",value:(r=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mintXApiToken();case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"post",value:(n=Object(l.a)(c.a.mark((function e(t,a){var n,r,l=this,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]?s[2]:{},this.accessToken){e.next=4;break}return e.next=4,this.getXApiToken();case 4:return r=Object(m.a)(),e.abrupt("return",fetch(t,{method:"POST",headers:v({"Content-Type":"application/json",Authorization:"Bearer ".concat(this.accessToken),intuit_tid:r},n),body:a}).catch((function(e){throw l.sendBugsnagError({error:{name:"xApiClient POST failure",message:"xapi client failed when calling ".concat(t),data:v(v({},e),{},{intuit_tid:r,body:a})}}),e})).finally((function(){l._refreshTokenIfNeeded()})));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_mintXApiToken",value:(a=Object(l.a)(c.a.mark((function e(){var t,a,n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(m.a)(),a=Object(u.c)("xapi-get-token"),e.prev=2,this._loadingClientPromise=Object(p.a)({consumerId:this.consumerId,purposeId:this.purposeId,env:this.environment,intuit_tid:t}),e.next=6,this._loadingClientPromise;case 6:if(!(n=e.sent).accessToken){e.next=14;break}return this.accessToken=n.accessToken,this._tokenExpirationTimeMS=(new Date).getTime()+1e3*n.expiresIn,clearTimeout(this._currentExpirationTimeout),this._currentExpirationTimeout=setTimeout((function(){r.accessToken=null,r._loadingClientPromise=null}),1e3*n.expiresIn),a.success(),e.abrupt("return",n);case 14:throw new Error("GetToken response did not contain an access token");case 17:return e.prev=17,e.t0=e.catch(2),a.fail(),e.t0 instanceof TypeError||this.sendBugsnagError({error:{name:"GetToken failure",data:v(v({},e.t0),{},{intuit_tid:t})}}),e.abrupt("return",Promise.reject(e.t0));case 22:return e.prev=22,a.record(),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[2,17,22,25]])}))),function(){return a.apply(this,arguments)})},{key:"_refreshTokenIfNeeded",value:function(){var e=(new Date).getTime();this._tokenExpirationTimeMS-e<3e5&&this._mintXApiToken()}},{key:"getXApiToken",value:function(){var e=this,t=null;return this.accessToken&&(t=Promise.resolve({accessToken:this.accessToken})),this._loadingClientPromise&&(t=Object(d.c)("d5ed90b49d042da070f480f3c8df378d")?new Promise((function(t,a){e._loadingClientPromise.then((function(e){t({accessToken:e.accessToken})})).catch((function(e){a(e)}))})):new Promise((function(t){e._loadingClientPromise.then((function(e){t({accessToken:e.accessToken})}))}))),t||(t=Object(d.c)("d5ed90b49d042da070f480f3c8df378d")?new Promise((function(t,a){e._mintXApiToken().then((function(e){t({accessToken:e.accessToken})})).catch((function(e){a(e)}))})):new Promise((function(t){e._mintXApiToken().then((function(e){t({accessToken:e.accessToken})}))}))),this._refreshTokenIfNeeded(),t}},{key:"getNonCachedXApiToken",value:(t=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mintXApiToken();case 2:return t=e.sent,e.abrupt("return",{accessToken:t.accessToken});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"sendBugsnagError",value:function(e){var t=v({},e.error),a=t.message,n=void 0===a?"XApiClient error":a,r=t.name,c=void 0===r?"":r,l=t.data,s=void 0===l?{}:l,i=this.consumerId||"unknown";f.Bugsnag.notify(n,(function(e){e.addMetadata("XApiClient",{affectedComponent:"XApiClient",error:{message:n,name:c,consumerId:i},data:v({},s)})}))}}]),e}();t.a=g},3048:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(3),l=a(2702),s=function(e){switch(null==e?void 0:e.toLowerCase()){case"subscribed":return"success";case"unsubscribed":case"archived":return"warning";case"pending":return"active";case"non-subscribed":case"cleaned":default:return"default"}};t.a=function(e){var t=e.status,a=Object(l.a)(),n=a.UCP_SUBSCRIBED,i=a.UCP_UNSUBSCRIBED,u=a.UCP_NONSUBSCRIBED,o=a.UCP_ARCHIVED,d=a.UCP_PENDING,p=a.UCP_CLEANED;return r.a.createElement(c.j,{type:s(t)},function(e){switch(null==e?void 0:e.toLowerCase()){case"subscribed":return n;case"unsubscribed":return i;case"non-subscribed":return u;case"archived":return o;case"pending":return d;case"cleaned":return p;default:return e}}(t))}},4731:function(e,t,a){e.exports={"contact-result-list-item":"contact-result-list-item-k1GMd","contact-result-list-item-link":"contact-result-list-item-link-31htf","contact-result-container":"contact-result-container-3AXHV","secondary-text-container":"secondary-text-container-3m0EL","margin-right":"margin-right-23hA9","email-less-contact-columns":"email-less-contact-columns-22pXE","email-less-contact-result-title-and-audience":"email-less-contact-result-title-and-audience-3EEcB","email-less-contact-result-link":"email-less-contact-result-link-1PT9U","email-less-contact-result-badge":"email-less-contact-result-badge-OZqXm","secondary-columns":"secondary-columns-3ZMbQ","dot-separator":"dot-separator-TPKrw","email-less-contact-result-icon":"email-less-contact-result-icon-4lTGJ"}},5031:function(e,t,a){e.exports={rightRail:"rightRail-1Ontg",rightRailBody:"rightRailBody-2uIxE",rightRailBodyCollapsed:"rightRailBodyCollapsed-Oq6p9",rightRailCollapsed:"rightRailCollapsed-14I5V",searchDialogue:"searchDialogue-2VZFJ","right-rail-opened":"right-rail-opened-1QMBe","right-rail-collapsed":"right-rail-collapsed-1qrUR","handle-live-help":"handle-live-help-1D8Cs",searchDialogueInit:"searchDialogueInit-XIuUp",animatable:"animatable-36udH","click-overlay":"click-overlay-L_uNX",fadeIn:"fadeIn-2h3jw"}},5033:function(e,t,a){e.exports={"input-row":"input-row-1LiqL","input-wrapper":"input-wrapper-2wNOQ","search-icon":"search-icon-3kUMz","input-container":"input-container-3AtfL"}},5035:function(e,t,a){e.exports={"search-filters":"search-filters-39mJq",tag:"tag-oVWmQ",selected:"selected-1lTUO","search-pill":"search-pill-8Yw4I","search-filters-flagged":"search-filters-flagged-E5xrk"}},5037:function(e,t,a){e.exports={"audience-selector":"audience-selector-QgWtm"}},5039:function(e,t,a){e.exports={"campaign-result-list-item":"campaign-result-list-item-2RVMT","campaign-result-list-item-link":"campaign-result-list-item-link-2EZS8","action-text":"action-text-1lMB8","campaign-result-container":"campaign-result-container-3XyQA","secondary-text-container":"secondary-text-container-1SFn2","error-result":"error-result-33e72"}},5042:function(e,t,a){e.exports={"email-less-contact-result-first-column":"email-less-contact-result-first-column-1nOv6","first-column-title-and-badge":"first-column-title-and-badge-GqGpm","email-less-first-column-title":"email-less-first-column-title-3RiEr","email-less-contact-result-audience":"email-less-contact-result-audience-3EotF"}},5044:function(e,t,a){e.exports={"email-less-contact-result-list-item-column":"email-less-contact-result-list-item-column-2z7Ip","email-less-contact-result-title-badge":"email-less-contact-result-title-badge-3PPNx","email-less-column-title":"email-less-column-title-2UAkk","subscription-badge-wrapper":"subscription-badge-wrapper-1dqK4"}},5046:function(e,t,a){e.exports={"feature-result-list-item":"feature-result-list-item-15GcW","feature-result-list-item-link":"feature-result-list-item-link-161Ri","feature-result-container":"feature-result-container-16EYJ","secondary-text":"secondary-text-3xVjF","text-ellipsis":"text-ellipsis-3kQsi"}},5048:function(e,t,a){e.exports={"kb-result-list-item":"kb-result-list-item-12vrS","kb-result-list-item-link":"kb-result-list-item-link-3dkK_","kb-result-container":"kb-result-container-xkKmy","secondary-text":"secondary-text-3N_9a","text-ellipsis":"text-ellipsis-3ZD4R"}},5050:function(e,t,a){e.exports={feedback:"feedback-1gB-U"}},5052:function(e,t,a){e.exports={results:"results-uNgpG","sub-heading":"sub-heading-1YTJO","sub-heading-flagged":"sub-heading-flagged-1f9VT","sr-only":"sr-only-k-Dpd","scroll-mask":"scroll-mask-2JqDo",enabled:"enabled-2yV4-"}},5054:function(e,t,a){e.exports={"show-more":"show-more-2qE-4","focus-wrapper":"focus-wrapper-2xqcD"}},5056:function(e,t,a){e.exports={error:"error-1UzDN"}},5058:function(e,t,a){e.exports={"no-results":"no-results-1cnEo"}},5060:function(e,t,a){e.exports={clear:"clear-Le9Hq","clear-flagged":"clear-flagged-3xTY7"}},5062:function(e,t,a){e.exports={container:"container-1V4A6",link:"link-3RfMo"}},5064:function(e,t,a){e.exports={root:"root-1WdPk","right-rail-opened":"right-rail-opened-W5-xk","handle-live-help":"handle-live-help-_OgMK","search-form":"search-form-33HLS","search-button":"search-button-1spEe","button-text":"button-text-2V1Gs","search-icon":"search-icon-YhRw5","vertical-bar":"vertical-bar-2vqS8","sub-heading":"sub-heading-2hXrh","filter-wrapper":"filter-wrapper-2Ti1J","selector-wrapper":"selector-wrapper-2cD3n",loading:"loading-10PIv","app-search-header":"app-search-header-lfb-M","app-search-input-and-close-button":"app-search-input-and-close-button-1qgFp"}},5066:function(e,t,a){e.exports={"search-button":"search-button-3jojg","right-rail-opened":"right-rail-opened--4wdr","button-text":"button-text-HSyvb","search-button-hover":"search-button-hover-1CJMx","search-icon":"search-icon-VNZzR",root:"root-287fE"}},5068:function(e,t,a){e.exports={"vertical-bar":"vertical-bar-qPXq0","vertical-bar-inline":"vertical-bar-inline-2rDva"}},5070:function(e,t,a){e.exports={"sub-heading":"sub-heading-27HEr","filter-wrapper":"filter-wrapper-1r6JE","selector-wrapper":"selector-wrapper-2XHf_"}},5072:function(e,t,a){e.exports={loading:"loading-2IaDJ"}},7880:function(e,t,a){e.exports={"app-search-cta-button":"app-search-cta-button-1VRTM"}},8499:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(6),c=a.n(r),l=a(1),s=a(12),i=a(5),u=a(0),o=a.n(u),d=a(13),p=a.n(d),f=a(29),m=a(3),b=a(315),h=a(22),v=a(143),g=a(76),E=a(112),_=a.n(E),O=a(14),j=a(81),y=a(3072),k=a(3073),S=a(149),R=a(7),C=a(2975);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!e.length)return t;if(e.length<=2)return[].concat(Object(n.a)(e),Object(n.a)(t));for(var r=Object(n.a)(e),c=2;c<=r.length;c+=a+1){for(var l,s=[],i=0;t.length&&i<a;)s.push(t.shift()),i++;(l=r).splice.apply(l,[c,0].concat(s))}return r=r.concat(t)},N=function(e){var t=e.token,a=e.expires;return null===t||Date.now()>=a},x=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.b)(t,!0);case 3:return a=e.sent,(n=new Date).setHours(n.getHours()+1),e.abrupt("return",{token:a,expires:n});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,l,s,i,u,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.entities,n=t.listId,r=t.page,l=t.searchTerm,s=t.size,i=Object(S.c)(C.g.universal_search_elastic),u=O.b.query("/search/universal-search",{entities:a,list_id:n,page:r,query:l,skip_render:!0,size:s}),e.prev=3,e.next=6,O.b.get(u);case 6:return o=e.sent,e.next=9,o.json();case 9:if(null==(d=e.sent)||!d.errorStatus){e.next=12;break}throw new Error(d.errorMessage);case 12:return i.success(),e.abrupt("return",d);case 16:return e.prev=16,e.t0=e.catch(3),i.fail(),_.a.notify(e.t0),e.abrupt("return",Promise.resolve({errorStatus:!0,results:[],total:0}));case 21:return e.prev=21,i.record(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,16,21,24]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){return Object(R.c)("d5ed90b49d042da070f480f3c8df378d")?e.data.features.data.edges.map((function(e){return{type:"feature",data:{description:e.node.description,name:e.node.featureName,path:e.node.url}}})):e.length?e.map((function(e){return{type:"feature",data:{description:e.description,name:e.name,path:e.path}}})):e},L=function(e){return e.length?e.map((function(e){return{type:"kb",data:{description:e.description,title:e.title,url:e.url}}})):[]},P=function(e,t,a){return e.length?e.map((function(e){return{type:"kb",data:{description:e.description,locale:a,position:e.position,resultId:e.objectID,searchId:t,title:e.title,url:e.url}}})):[]},D=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,l,s,i,u,o,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.intuit_tid,n=t.searchTerm,r=t.xapiToken,c=void 0,c="https://smbcdp-qal.api.intuit.com/graphql",l=Object(R.c)("79e0b71d2f5d86eaf613fd750af4ad5b")?c:"ENV_PROD"===j.a.xapi.env?"https://smbcdp.api.intuit.com/graphql":c,s=Object(k.a)(),i=Object(S.c)(C.g.universal_search_features),!Object(R.c)("d5ed90b49d042da070f480f3c8df378d")){e.next=31;break}if(e.prev=5,r){e.next=8;break}throw new Error("failed to fetch access token");case 8:return e.next=10,fetch(l,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.accessToken),intuit_tid:a},body:JSON.stringify({query:s,variables:{searchTerm:n}})});case 10:if((u=e.sent).ok){e.next=13;break}throw new Error("There was an issue with request to CDP, status: ".concat(u.status,", text: ").concat(u.text));case 13:return e.next=15,u.json();case 15:if(!(u=e.sent).errors){e.next=18;break}throw new Error("Response ok but error in JSON: ".concat(u.errors));case 18:return i.success(),o=U(u),e.abrupt("return",{results:o,total:o.length});case 23:return e.prev=23,e.t0=e.catch(5),_.a.notify(e.t0),i.fail(),e.abrupt("return",Promise.resolve({errorStatus:e.t0,results:[],total:0}));case 28:return e.prev=28,i.record(),e.finish(28);case 31:if(e.prev=31,!N(w({},r))){e.next=36;break}return e.next=35,x(a);case 35:r=e.sent;case 36:return e.next=38,Object(y.a)({xapiToken:r.token,query:s,searchTerm:n,intuit_tid:a,is_universal_search:!0});case 38:return d=e.sent,p=U(d.features),i.success(),i.record(),e.abrupt("return",{results:p,total:p.length});case 45:return e.prev=45,e.t1=e.catch(31),_.a.notify(e.t1),i.fail(),i.record(),e.abrupt("return",Promise.resolve({errorStatus:e.t1,results:[],total:0}));case 51:case"end":return e.stop()}var c}),e,null,[[5,23,28,31],[31,45]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,l,s,i,u,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searchTerm,n=t.page,r=void 0===n?1:n,l=O.b.query("/kb-api/search-articles-json",{term:a,page:r,page_size:C.j}),s=Object(S.c)(C.g.universal_search_query_kb),e.prev=3,e.next=6,O.b.get(l);case 6:return i=e.sent,e.next=9,i.json();case 9:if(null==(u=e.sent)||!u.error){e.next=12;break}throw new Error(null==u||null===(o=u.error)||void 0===o?void 0:o.message);case 12:if(s.success(),!Object(R.c)("89f173adbf0de141abb59a051187fd02")){e.next=15;break}return e.abrupt("return",{algolia_search_id:null==u?void 0:u.search_id,articles:null==u?void 0:u.documents,search_locale:null==u?void 0:u.locale,total:null==u?void 0:u.total_count});case 15:return e.abrupt("return",{articles:null==u?void 0:u.documents,total:null==u?void 0:u.total_count});case 18:return e.prev=18,e.t0=e.catch(3),s.fail(),_.a.notify(e.t0),e.abrupt("return",{articles:[],errorStatus:!0,errorMessage:e.t0,total:0});case 23:return e.prev=23,s.record(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[3,18,23,26]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,l,s,i,u,o,d,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.entities,n=t.filter,r=t.listId,l=t.page,s=t.searchTerm,i=t.size,n!==C.h){e.next=8;break}return e.next=4,F({searchTerm:s,page:l});case 4:if(u=e.sent,!Object(R.c)("89f173adbf0de141abb59a051187fd02")){e.next=7;break}return e.abrupt("return",{results:P(u.articles,u.algolia_search_id,u.search_locale)});case 7:return e.abrupt("return",{results:L(u.articles)});case 8:return o=Object(S.c)(C.g.universal_search_elastic_pagination),d=O.b.query("/search/universal-search",{entities:a,list_id:r,page:l,query:s,skip_render:!0,size:i}),e.prev=10,e.next=13,O.b.get(d);case 13:return p=e.sent,e.next=16,p.json();case 16:if(null==(f=e.sent)||!f.errorStatus){e.next=19;break}throw new Error(null==f?void 0:f.errorMessage);case 19:return o.success(),e.abrupt("return",f);case 23:return e.prev=23,e.t0=e.catch(10),o.fail(),_.a.notify(e.t0),e.abrupt("return",Promise.resolve({errorStatus:!0,results:[],total:0}));case 28:return e.prev=28,o.record(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[10,23,28,31]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,l,s,u,o,d,p,f,m,b,h,v,g,E,_,O,j,y,k,A,w,N,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.filter,r=t.intuit_tid,l=t.listId,s=t.page,u=t.searchTerm,o=t.size,d=t.xapiToken,p=t.user,f=Promise.resolve({results:[],total:0}),m=Promise.resolve({results:[],total:0}),b=Promise.resolve({results:[],total:0}),e.t0=a,e.next=e.t0===C.c?7:e.t0===C.a?9:e.t0===C.e?11:e.t0===C.h?13:15;break;case 7:return p.hasRole("manager")&&(m=I({entities:a,listId:l,page:s,searchTerm:u,size:o})),e.abrupt("break",17);case 9:return Object(R.c)("c1c87ed0066c6853d1257f1a8a42f3ba")?p.hasRole("author")&&(m=I({entities:a,listId:l,page:s,searchTerm:u,size:o})):m=I({entities:a,listId:l,page:s,searchTerm:u,size:o}),e.abrupt("break",17);case 11:return f=D({intuit_tid:r,searchTerm:u,xapiToken:d}),e.abrupt("break",17);case 13:return b=F({searchTerm:u}),e.abrupt("break",17);case 15:f=D({intuit_tid:r,searchTerm:u,xapiToken:d}),Object(R.c)("c1c87ed0066c6853d1257f1a8a42f3ba")?p.hasRole("author")&&(m=I({entities:a,listId:l,page:s,searchTerm:u,size:o})):m=I({entities:a,listId:l,page:s,searchTerm:u,size:o});case 17:return h=Object(S.c)(C.g.universal_search_query),e.next=20,Promise.all([f,m,b]);case 20:if(v=e.sent,g=Object(i.a)(v,3),E=g[0],_=g[1],O=g[2],E.errorStatus||_.errorStatus?(h.fail(),h.record()):(h.success(),h.record()),j=T(E.results,Object(n.a)(_.results)),y={all:j,displayed:j.slice(0,20),total:_.total+E.total,esResults:_.results.length},E.errorStatus&&_.errorStatus&&(y.error=!0),a===C.h&&(k=Object(R.c)("89f173adbf0de141abb59a051187fd02")?P(O.articles,O.algolia_search_id,O.search_locale):L(O.articles),y.all=k,y.displayed=k.slice(0,20),y.total=O.total,O.errorStatus&&(y.error=!0)),A=u.match(/^([^.][^@]+)@([^@]+[^.])\.([A-Za-z]{2,4})$/),0!==y.total||y.error||a===C.c||a===C.a||a===C.h||A){e.next=40;break}return e.next=34,F({searchTerm:u,page:s});case 34:w=e.sent,N=Object(R.c)("89f173adbf0de141abb59a051187fd02")?P(w.articles,w.algolia_search_id,w.search_locale):L(w.articles),x=N.slice(0,10),y.all=x,y.displayed=x,y.total=x.length;case 40:return e.abrupt("return",y);case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasRole("manager")){e.next=2;break}return e.abrupt("return",Promise.resolve(null));case 2:return a=Object(S.c)(C.g.universal_search_audiencelist),e.prev=3,e.next=6,O.b.get("/lists/switcher/get-switcher-data");case 6:return n=e.sent,e.next=9,n.json();case 9:if(r=e.sent,"string"!=typeof n){e.next=12;break}throw new Error("failed to get audience data");case 12:return a.success(),e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(3),a.fail(),_.a.notify(e.t0),e.abrupt("return",null);case 21:return e.prev=21,a.record(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,16,21,24]])})));return function(t){return e.apply(this,arguments)}}(),q=a(336),B=a(5031),X=a.n(B),G=function(e){var t,a,n=e.children,r=e.onRequestClose,c=Object(u.useRef)(null),s=Object(u.useContext)(q.a),d=s.isRightRailOpen,f=s.isRightRailCollapsed,m=Object(u.useState)(!1),b=Object(i.a)(m,2),h=b[0],v=b[1],g=Object(u.useState)(!1),E=Object(i.a)(g,2),_=E[0],O=E[1];Object(u.useEffect)((function(){v(!0),O(!d)}),[d]);Object(u.useEffect)((function(){var e=function(e){"Escape"===e.key&&(r(),v(!1))};return c.current&&document.addEventListener("keydown",(function(t){return e(t)})),function(){return document.removeEventListener("keydown",(function(t){return e(t)}))}}),[c,r]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:p()(X.a["click-overlay"],(t={},Object(l.a)(t,X.a["right-rail-opened"],d&&!f),Object(l.a)(t,X.a["right-rail-collapsed"],d&&f),t)),onClick:function(){v(!1),r()}}),o.a.createElement("div",{onTransitionEnd:function(){O(!1)},className:p()((a={},Object(l.a)(a,X.a.searchDialogueInit,!h),Object(l.a)(a,X.a.searchDialogue,h),Object(l.a)(a,X.a.animatable,_),Object(l.a)(a,X.a["right-rail-opened"],d&&!f),Object(l.a)(a,X.a["right-rail-collapsed"],d&&f),Object(l.a)(a,X.a["handle-live-help"],Object(R.c)("a6a0cd870696f9122c7a7151658dd5b4")),a)),ref:c,role:"dialog",onKeyDown:function(e){var t;if("Tab"===e.key){var a=null==c||null===(t=c.current)||void 0===t?void 0:t.querySelectorAll("a[href], button:not([disabled]), textarea, input, select"),n=null==a?void 0:a[0],r=null==a?void 0:a[(null==a?void 0:a.length)-1];!e.shiftKey&&document.activeElement===r&&n&&(n.focus(),e.preventDefault()),e.shiftKey&&document.activeElement===n&&r&&(r.focus(),e.preventDefault())}}},n))},z=a(15),K=function(){return{LOADING_SEARCH_RESULTS:Object(z.e)({id:"wayfi.loading_search_results",defaultMessage:"Loading search results…"}),NOT_THE_RESULTS_YOU_EXPECTED_LEAVE_FEEDBACK:Object(z.e)({id:"wayfi.not_the_results_you_expected_leave_feedback",defaultMessage:"Not the results you expected? Leave feedback"}),UNIVERSAL_SEARCH_FEEDBACK_POSITIVE_ARIA_LABEL:Object(z.e)({id:"wayfi.universal_search_feedback_positive_aria_label",defaultMessage:"Opens positive feedback form in new tab"}),UNIVERSAL_SEARCH_FEEDBACK_NEGATIVE_ARIA_LABEL:Object(z.e)({id:"wayfi.universal_search_feedback_negative_aria_label",defaultMessage:"Opens negative feedback form in new tab"}),UNIVERSAL_SEARCH_RESULTS_TEXT:Object(z.e)({id:"wayfi.universal_search_results",defaultMessage:"Results: "}),UNIVERSAL_SEARCH_WHAT_HELP:Object(z.e)({id:"wayfi.universal_search_what_help",defaultMessage:"What can we help you find today?"}),UNIVERSAL_SEARCH_CLEAR:Object(z.e)({id:"wayfi.universal_search_clear",defaultMessage:"Clear"}),UNIVERSAL_SEARCH_FILTER_SEARCH_BY:Object(z.e)({id:"wayfi.universal_search_filter_search_by",defaultMessage:"Filter by"}),UNIVERSAL_SEARCH_FILTER_SEARCH_TEXT:Object(z.e)({id:"wayfi.universal_search_text",defaultMessage:"Search: "}),UNIVERSAL_SEARCH_FILTER_SHOW_MORE:Object(z.e)({id:"wayfi.universal_search_show_more",defaultMessage:"Show more results"}),UNIVERSAL_SEARCH_CLOSE:Object(z.e)({id:"wayfi.universal_search_close",defaultMessage:"Close"}),UNIVERSAL_SEARCH_MAILCHIMP:Object(z.e)({id:"wayfi.universal_search_mailchimp",defaultMessage:"Search Mailchimp"}),UNIVERSAL_SEARCH_FILTER_CONTACTS:Object(z.e)({id:"wayfi.universal_search_filter_contacts",defaultMessage:"Contacts"}),UNIVERSAL_FILTER_CAMPAIGNS:Object(z.e)({id:"wayfi.universal_search_filter_campaigns",defaultMessage:"Campaigns"}),UNIVERSAL_FILTER_FEATURES:Object(z.e)({id:"wayfi.universal_search_filter_features",defaultMessage:"Features"}),UNIVERSAL_FILTER_KB:Object(z.e)({id:"wef.global_search_tab_help_articles",defaultMessage:"Help articles"}),SEARCH_IS_DOWN:Object(z.e)({id:"wayfi.universal_search_is_down",defaultMessage:"Search is down"}),TRY_AGAIN:Object(z.e)({id:"wayfi.try_again",defaultMessage:"We need to fix some things on our end. Give us a moment, then try again."}),UNIVERSAL_SEARCH_NO_RESULTS:Object(z.e)({id:"wayfi.universal_search_no_results",defaultMessage:"No results for your search"}),UNIVERSAL_SEARCH_ADJUST_SEARCH:Object(z.e)({id:"wayfi.universal_search_adjust_search",defaultMessage:"Try using different keywords, checking for typos, or adjusting your filters."}),AUDIENCE_FILTER_ALL:Object(z.e)({id:"wayfi.audience_filter_all",defaultMessage:"All audiences"}),RESULT_ERROR_MESSAGE:Object(z.e)({id:"wef.campaign_search_result_error_boundary_message",defaultMessage:"We’ve run into an issue loading data for this search result. The error has been logged in our system."})}},Y=a(5033),J=a.n(Y),W=o.a.forwardRef((function(e,t){var a=e.children,n=e.expanded,r=e.onChange,c=e.value,l=K().UNIVERSAL_SEARCH_WHAT_HELP;return Object(R.c)("7802b8f09cf19f91e77be1add07a0782")?o.a.createElement("div",{className:J.a["input-container"]},o.a.createElement("div",{className:J.a["input-wrapper"]},o.a.createElement("input",{onChange:function(e){return r(e)},placeholder:l,ref:t,type:"text",value:c,role:"combobox","aria-controls":"search-results","aria-expanded":n}),a)):o.a.createElement("div",{className:J.a["input-row"]},o.a.createElement("div",{className:J.a["input-wrapper"]},o.a.createElement("span",{"aria-hidden":"true",className:J.a["search-icon"]}),o.a.createElement("input",{onChange:function(e){return r(e)},placeholder:l,ref:t,type:"text",value:c,role:"combobox","aria-controls":"search-results","aria-expanded":n})),a)})),Z=a(5035),Q=a.n(Z),$=function(e){var t=e.filters,a=e.onClick,n=e.selected,r=void 0===n?"":n,c=K().UNIVERSAL_SEARCH_FILTER_SEARCH_BY,s=function(){var e=Object(g.b)(),t=K(),a=t.UNIVERSAL_FILTER_FEATURES,n=t.UNIVERSAL_FILTER_CAMPAIGNS,r=t.UNIVERSAL_SEARCH_FILTER_CONTACTS,c=t.UNIVERSAL_FILTER_KB,l=[{label:r,value:C.c},{label:n,value:C.a},{label:a,value:C.e}];return l.push({label:c,value:C.h}),null!=e&&e.hasRole("manager")||!Object(R.b)("c1c87ed0066c6853d1257f1a8a42f3ba")?l:null==l?void 0:l.filter((function(e){return e.value!==C.c}))}(),i=Object(R.c)("8945da954b0dcbe92247360ee8bd9eae")?s:t;return o.a.createElement("ul",{className:p()(Q.a["search-filters"],Object(l.a)({},Q.a["search-filters-flagged"],Object(R.c)("7802b8f09cf19f91e77be1add07a0782"))),title:c},null==i?void 0:i.map((function(e,t){var n,c=e.value===r;return o.a.createElement("li",{key:t},o.a.createElement("button",{className:p()(Q.a.tag,(n={},Object(l.a)(n,Q.a.selected,c),Object(l.a)(n,Q.a["search-pill"],Object(R.c)("7802b8f09cf19f91e77be1add07a0782")),n)),onClick:function(){return a(e.value)},type:"button","aria-pressed":c},e.label))})))},ee=a(5037),te=a.n(ee),ae=function(e){var t=e.audienceList,a=e.onChange,n=e.selected,r=void 0===n?"":n,c=K().AUDIENCE_FILTER_ALL;return o.a.createElement(m.Ib,{className:te.a["audience-selector"],label:parseInt(r,10)?t.find((function(e){return e.id===parseInt(r,10)})).name:c,onChange:function(e){return a(e)}},o.a.createElement(m.nb,{key:"all",value:""},c),t.map((function(e){return o.a.createElement(m.nb,{key:e.id,value:e.id},e.name)})))},ne=a(26),re=a(3475),ce=a(3089),le=a(5039),se=a.n(le),ie=function(e){var t=e.title,a=K().RESULT_ERROR_MESSAGE;return o.a.createElement(m.t,{className:se.a["error-result"],gap:3},o.a.createElement(ne.md,null),o.a.createElement(m.Pb,{gap:1},t&&o.a.createElement(m.gc,null,t),o.a.createElement(m.gc,{appearance:"small-secondary"},a)))},ue=function(e){var t,a,n,r,c,l,s,i,u,d,p=e.data,b=e.handleRequestClose,v=e.type,g=Object(re.a)().derivePropsFromCampaignData,E=Object(ce.a)().derivePropsFromAdData,O=null==p?void 0:p.searchInput,j=null==p?void 0:p.searchPosition,y=null;try{d=p,y="ad"===v?E(d):g(d)}catch(e){return _.a.notify(e),o.a.createElement(ie,{title:null==p?void 0:p.title})}return o.a.createElement("li",{className:se.a["campaign-result-list-item"]},o.a.createElement("a",{href:Object(R.c)("c3e7f218d4714f612db74aeb7e8082a4")?function(e){var t;if(null!=e&&e.redirectForConfirmation)try{return"/campaigns/all-campaigns-redirect?title=".concat(encodeURIComponent(e.title))}catch(e){return Object(R.c)("18e1c1fda7b8fa3db48851973bcad351")?"/campaigns/?page=1&status=ongoing":"/campaigns/#f_list:all;f_bucket:ongoing;t:campaigns-list"}return null===(t=y)||void 0===t?void 0:t.actionLink}(y):null===(t=y)||void 0===t?void 0:t.titleLink,onClick:function(){h.UniversalSearchClickResult.has_search_results=!0,h.UniversalSearchClickResult.result_type=C.b,h.UniversalSearchClickResult.search_input=O,h.UniversalSearchClickResult.search_position=j,h.UniversalSearchClickResult.search_title="",f.a.track(h.UniversalSearchClickResult),b()},className:se.a["campaign-result-list-item-link"]},o.a.createElement(m.Pb,{gap:1,className:se.a["campaign-result-container"],as:"span"},o.a.createElement(m.t,{gap:3,nowrap:!0,as:"span"},o.a.createElement(ne.v,null),null!==(a=y)&&void 0!==a&&a.title?o.a.createElement(m.gc,{appearance:"medium",as:"span"},y.title):null,null!==(n=y)&&void 0!==n&&n.badgeText?o.a.createElement(m.j,{type:null===(r=y)||void 0===r?void 0:r.badgeType},y.badgeText):null),o.a.createElement(m.Pb,{gap:1,className:se.a["secondary-text-container"]},null!==(c=y)&&void 0!==c&&c.type?o.a.createElement(m.gc,{appearance:"small-secondary",as:"span"},y.type):null,o.a.createElement(m.t,{gap:0,as:"span"},null!==(l=y)&&void 0!==l&&l.statusDescription?o.a.createElement(m.gc,{appearance:"small-secondary",as:"span"},y.statusDescription):null,(null===(s=y)||void 0===s?void 0:s.listName)&&o.a.createElement(m.gc,{appearance:"small-secondary",as:"span"}," ","• ".concat(y.listName))))),Object(R.c)("c3e7f218d4714f612db74aeb7e8082a4")&&(null===(i=y)||void 0===i?void 0:i.actionText)&&o.a.createElement(m.gc,{appearance:"small-secondary",className:se.a["action-text"]},null===(u=y)||void 0===u?void 0:u.actionText)))},oe=a(2869),de=a(2807),pe=a(4731),fe=a.n(pe),me=a(3048),be=function(e){var t,a,n,r,c=e.data,l=null!=c&&null!==(t=c.name)&&void 0!==t&&t.length?c.name:null,s=null!=c&&null!==(a=c.email)&&void 0!==a&&a.length?c.email:null,i=null!=c&&null!==(n=c.smsPhoneNumber)&&void 0!==n&&n.length?c.smsPhoneNumber:null;return{firstColumnTitle:null!==(r=null!=l?l:s)&&void 0!==r?r:i,secondColumnTitle:null!=s?s:i,thirdColumnTitle:s&&i?i:null,contactSms:i}},he=a(5042),ve=a.n(he),ge=function(e){var t,a=e.data,n=be({data:a}).firstColumnTitle;return o.a.createElement(m.Pb,{as:"span",className:ve.a["email-less-contact-result-first-column"]},n&&o.a.createElement("span",{className:ve.a["first-column-title-and-badge"]},o.a.createElement("span",{className:p()(ve.a["email-less-first-column-title"],fe.a["email-less-column-title"])},n),null!=a&&a.isArchived?o.a.createElement("span",null,o.a.createElement(me.a,{status:"archived"})):null),null!=a&&null!==(t=a.listName)&&void 0!==t&&t.length?o.a.createElement("span",{className:ve.a["email-less-contact-result-audience"]},a.listName):null)},Ee=a(5044),_e=a.n(Ee),Oe=function(e){var t=e.title,a=e.badgeText,n=e.isArchived;return o.a.createElement("span",{className:_e.a["email-less-contact-result-list-item-column"]},o.a.createElement("span",{className:_e.a["email-less-contact-result-title-badge"]},t?o.a.createElement("span",{className:_e.a["email-less-column-title"]},t):null,a&&!n?o.a.createElement("span",{className:_e.a["subscription-badge-wrapper"]},o.a.createElement(me.a,{status:a})):null))},je=function(e){var t,a,n=e.data,r=e.handleRequestClose,c=Object(oe.a)(),l=c.contactStatusStrings,s=c.contactStatusLabel,i=be({data:n}),u=i.secondColumnTitle,d=i.thirdColumnTitle,p=i.contactSms,b=null==n?void 0:n.searchInput,v=null==n?void 0:n.searchPosition,g={subscribed:null==l?void 0:l[de.e],unsubscribed:null==l?void 0:l[de.g],added:null==s?void 0:s.added,on:null==s?void 0:s.on},E=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},_=function(e,t,a,n,r){if(Object(R.c)("652e44b14faf6f9f0beba04c3f002af5")){var c,l="",s=null!==(c=null!=a?a:r)&&void 0!==c?c:"";return e?l=null==g?void 0:g.subscribed:t?(l=null==g?void 0:g.unsubscribed,s=null!=n?n:""):l=s?null==g?void 0:g.added:"",s&&(s=" ".concat(E(s)),(e||t)&&(s=" ".concat(null==g?void 0:g.on," ").concat(s))),{status:l,statusDescription:s}}var i=null==g?void 0:g.added,u=a,o=null==g?void 0:g.on;e?i=null==g?void 0:g.subscribed:t&&(i=null==g?void 0:g.unsubscribed,u=n);var d=" "+E(u);return(e||t)&&(d=" ".concat(o)+d),{status:i,statusDescription:d}}(null==n?void 0:n.isSubscribed,null==n?void 0:n.isUnsubscribed,null==n?void 0:n.optinDate,null==n?void 0:n.unsubscribedDate,null==n?void 0:n.signupDate),O=_.status,j=_.statusDescription,y=null!=n&&n.contactId?"/audience/contact-profile?contact_id=".concat(null==n?void 0:n.contactId):"/lists/members/view?id=".concat(null==n?void 0:n.id),k=function(){h.UniversalSearchClickResult.has_search_results=!0,h.UniversalSearchClickResult.result_type=C.d,h.UniversalSearchClickResult.search_input=b,h.UniversalSearchClickResult.search_position=v,h.UniversalSearchClickResult.search_title="",f.a.track(h.UniversalSearchClickResult),r()};return Object(R.c)("390ba4947c81f19858f3a928a3d3800f")?o.a.createElement("li",{className:fe.a["contact-result-list-item"]},o.a.createElement("a",{href:y,onClick:k,className:fe.a["email-less-contact-result-link"]},o.a.createElement("span",{className:fe.a["email-less-contact-result-icon"]},o.a.createElement(ne.Tc,null)),o.a.createElement("span",{className:fe.a["email-less-contact-columns"]},o.a.createElement(ge,{data:n}),o.a.createElement("span",{className:fe.a["secondary-columns"]},u&&o.a.createElement(Oe,{badgeText:u===p?null==n?void 0:n.smsSubscriptionStatus:null==n?void 0:n.emailSubscriptionStatus,title:u,isArchived:null==n?void 0:n.isArchived}),d&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:fe.a["dot-separator"]}),o.a.createElement(Oe,{badgeText:null==n?void 0:n.smsSubscriptionStatus,title:d,isArchived:null==n?void 0:n.isArchived})))))):o.a.createElement("li",{className:fe.a["contact-result-list-item"]},o.a.createElement("a",{href:y,onClick:k,className:fe.a["contact-result-list-item-link"]},o.a.createElement(m.Pb,{gap:1,className:fe.a["contact-result-container"],as:"span"},o.a.createElement(m.t,{gap:3,as:"span",nowrap:!0},o.a.createElement(ne.Tc,null),o.a.createElement(m.t,{gap:0},null!=n&&null!==(t=n.name)&&void 0!==t&&t.length?o.a.createElement(m.gc,{className:fe.a["margin-right"],as:"span"},n.name):null,null!=n&&null!==(a=n.email)&&void 0!==a&&a.length?o.a.createElement(m.gc,{appearance:"medium-secondary",as:"span"},n.email):null)),o.a.createElement(m.t,{gap:0,className:fe.a["secondary-text-container"],as:"span"},null!=n&&n.listName?o.a.createElement(m.gc,{appearance:"small-secondary",as:"span"},n.listName):null,O||j?o.a.createElement(m.gc,{appearance:"small-secondary",as:"span"}," ","• ".concat(O," ").concat(j)):null))))},ye=a(5046),ke=a.n(ye),Se=function(e){var t,a,n=e.data,r=n.searchInput,c=n.searchPosition,l=n.name;return o.a.createElement("li",{className:ke.a["feature-result-list-item"]},o.a.createElement("a",{href:n.path,target:"_blank",rel:"noopener noreferrer",onClick:function(){h.UniversalSearchClickResult.has_search_results=!0,h.UniversalSearchClickResult.result_type=C.f,h.UniversalSearchClickResult.search_input=r,h.UniversalSearchClickResult.search_position=c,h.UniversalSearchClickResult.search_title=l,f.a.track(h.UniversalSearchClickResult)},className:ke.a["feature-result-list-item-link"]},o.a.createElement(m.Pb,{gap:1,className:ke.a["feature-result-container"]},o.a.createElement(m.t,{gap:3,as:"span"},o.a.createElement(ne.Cb,null),null!=n&&null!==(t=n.name)&&void 0!==t&&t.length?o.a.createElement(m.gc,null,n.name):null),null!=n&&null!==(a=n.description)&&void 0!==a&&a.length?o.a.createElement(m.gc,{appearance:"small-secondary",className:p()(ke.a["secondary-text"],ke.a["text-ellipsis"])},n.description):null)))},Re=a(2177),Ce=a(432),Ae=a(288),we=function(){var e=Object(v.a)(),t=e.isPhone,a=e.isTablet,n=Object(u.useContext)(q.a),r=n.isRightRailOpen,c=n.openRightRail,l=n.setRightRailLocation,s=n.setSelectedKBArticle;return{handleOpenKbArticle:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},u=t||a;Object(R.c)("755cac7982c4b348d752b61eb984bbbe")&&!u&&(e.preventDefault(),r||c(Ae.r),l(Ce.c),s(n),i())}}},Te=a(5048),Ne=a.n(Te),xe=function(e){var t,a,n=e.data,r=e.handleRequestClose,c="https://mailchimp.com".concat(null==n?void 0:n.url),l=we().handleOpenKbArticle;return o.a.createElement("li",{className:Ne.a["kb-result-list-item"]},o.a.createElement("a",{"data-testid":"anchor",href:c,target:"_blank",rel:"noopener noreferrer",onClick:function(e){l(e,n.url,r),h.UniversalSearchClickResult.has_search_results=!0,h.UniversalSearchClickResult.result_type=C.i,h.UniversalSearchClickResult.search_input=n.searchInput,h.UniversalSearchClickResult.search_position=n.searchPosition,h.UniversalSearchClickResult.search_title=n.title,f.a.track(h.UniversalSearchClickResult),Object(R.c)("89f173adbf0de141abb59a051187fd02")&&Object(Re.a)({queryName:"in-app-kb",locale:n.locale,searchId:n.searchId,resultId:n.resultId,position:n.position})},className:Ne.a["kb-result-list-item-link"]},o.a.createElement(m.Pb,{gap:1,className:Ne.a["kb-result-container"],as:"span"},o.a.createElement(m.t,{gap:3,nowrap:!0,as:"span"},o.a.createElement(ne.xc,null),null!=n&&null!==(t=n.title)&&void 0!==t&&t.length?o.a.createElement(m.gc,null,n.title):null),null!=n&&null!==(a=n.description)&&void 0!==a&&a.length?o.a.createElement(m.gc,{appearance:"small-secondary",className:p()(Ne.a["secondary-text"],Ne.a["text-ellipsis"])},n.description):null)))},Ie=a(5050),Ue=a.n(Ie),Le=function(){var e=K(),t=e.NOT_THE_RESULTS_YOU_EXPECTED_LEAVE_FEEDBACK,a=e.UNIVERSAL_SEARCH_FEEDBACK_POSITIVE_ARIA_LABEL,n=e.UNIVERSAL_SEARCH_FEEDBACK_NEGATIVE_ARIA_LABEL,r=Object(g.b)().id,c="https://mailchimp.iad1.qualtrics.com/jfe/form/SV_8nLsgDoHLZQfmaG?mcu=".concat(r),l=function(e){var t=e.action;"positive"===t?f.a.track(h.UniversalSearchFeedbackThumbsUp):"negative"===t&&f.a.track(h.UniversalSearchFeedbackThumbsDown),window.open(c,"_blank")};return o.a.createElement("span",{className:Ue.a.feedback},o.a.createElement(m.gc,{as:"span",appearance:"small-secondary"},t),o.a.createElement(m.R,{label:"Thumbs up",icon:o.a.createElement(ne.Yc,null),onClick:function(){return l({action:"positive"})},"aria-label":a}),o.a.createElement(m.R,{label:"Thumbs down",icon:o.a.createElement(ne.Xc,null),onClick:function(){return l({action:"negative"})},"aria-label":n}))},Pe=a(5052),De=a.n(Pe);function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function He(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Me(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ve(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,c=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw c}}}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var qe=function(e){var t,a=e.children,n=e.hideLabel,r=void 0!==n&&n,c=e.onRequestClose,s=e.resultTypes,i=e.results,d=e.searchInput,f=e.total,m=Object(u.useRef)(null),b=Object(u.useRef)(null),h=K().UNIVERSAL_SEARCH_RESULTS_TEXT,v=function(){if(null!=m&&m.current&&null!=b&&b.current){var e=m.current.querySelector("li:last-of-type");if(e){var t=m.current.getBoundingClientRect().bottom;e.getBoundingClientRect().top<=t?b.current.classList.remove(De.a.enabled):b.current.classList.add(De.a.enabled)}}};return Object(u.useEffect)((function(){null!=m&&m.current&&null!=b&&b.current&&v()}),[i]),Object(u.useEffect)((function(){var e=new ResizeObserver((function(e){var t,a=Me(e);try{for(a.s();!(t=a.n()).done;){var n,r,c=t.value;(null==c||null===(n=c.target)||void 0===n?void 0:n.scrollHeight)>Math.round(null==c||null===(r=c.contentRect)||void 0===r?void 0:r.height)&&v()}}catch(e){a.e(e)}finally{a.f()}}));return null!=m&&m.current?null==e?void 0:e.observe(m.current):function(){return null==e?void 0:e.disconnect()}}),[m]),o.a.createElement("div",{className:De.a.results,onScroll:v,ref:m},o.a.createElement("label",{className:p()(De.a["sub-heading"],(t={},Object(l.a)(t,De.a["sr-only"],r),Object(l.a)(t,De.a["sub-heading-flagged"],Object(R.c)("7802b8f09cf19f91e77be1add07a0782")),t)),id:"results","aria-live":"polite"},h+f),o.a.createElement("ul",{"aria-labelledby":"results",id:"search-results",role:"listbox"},i.length>0&&i.map((function(e,t){if(e.type in s){var a=s[e.type];return o.a.createElement(a,{data:He(He({},e.data),{searchInput:d,searchPosition:t}),key:t,handleRequestClose:c,type:e.type})}return null})),a),o.a.createElement("div",{className:De.a["scroll-mask"],ref:b}))},Be=a(5054),Xe=a.n(Be),Ge=function(e){var t=e.onClick,a=K().UNIVERSAL_SEARCH_FILTER_SHOW_MORE;return o.a.createElement("li",null,o.a.createElement("button",{className:Xe.a["show-more"],onClick:function(){return t()},type:"button"},o.a.createElement("div",{className:Xe.a["focus-wrapper"]},o.a.createElement("span",null,a),o.a.createElement(ne.Zb,null))))},ze=a(5056),Ke=a.n(ze),Ye=function(){var e=K(),t=e.SEARCH_IS_DOWN,a=e.TRY_AGAIN;return o.a.createElement("div",{className:Ke.a.error,"aria-live":"polite"},o.a.createElement(ne.md,null),o.a.createElement("div",null,o.a.createElement(m.gc,{appearance:"medium-bold"},t),o.a.createElement(m.gc,{appearance:"small-secondary"},a)))},Je=a(5058),We=a.n(Je),Ze=function(){var e=K(),t=e.UNIVERSAL_SEARCH_NO_RESULTS,a=e.UNIVERSAL_SEARCH_ADJUST_SEARCH;return o.a.createElement("div",{className:We.a["no-results"],"aria-live":"polite"},o.a.createElement(m.gc,{appearance:"medium-bold"},t),o.a.createElement(m.gc,{appearance:"small-secondary"},a))},Qe=a(5060),$e=a.n(Qe),et=function(e){var t=e.isDisabled,a=void 0!==t&&t,n=e.onClick,r=K().UNIVERSAL_SEARCH_CLEAR;return o.a.createElement("button",{"aria-label":r,className:p()($e.a.clear,Object(l.a)({},$e.a["clear-flagged"],Object(R.c)("7802b8f09cf19f91e77be1add07a0782"))),disabled:a,onClick:n,type:"button"},o.a.createElement(m.gc,{appearance:"small-secondary"},r))},tt=function(e){var t=e.onRequestClose,a=K().UNIVERSAL_SEARCH_CLOSE;return o.a.createElement(m.R,{"data-testid":"close-btn",icon:o.a.createElement(ne.R,null),label:a,onClick:t})},at=a(23),nt=function(){var e,t;return{title:(e={},Object(l.a)(e,C.a,Object(z.e)({id:"wayfi.campaigns_limited_access_title",defaultMessage:"Your user level doesn’t have access to campaigns"})),Object(l.a)(e,C.c,Object(z.e)({id:"wayfi.contacts_limited_access_title",defaultMessage:"Your user level doesn’t have access to contacts"})),Object(l.a)(e,C.e,Object(z.e)({id:"wayfi.features_limited_access_title",defaultMessage:"You have limited access based on your permissions"})),e),message:(t={},Object(l.a)(t,C.a,Object(z.e)({id:"wayfi.campaigns_limited_access_message",defaultMessage:"You need to be an account Owner, Admin, Manager, or Author to search campaigns. Talk to your account Owner or Admin about changing your level or ask a qualifying teammate to find the campaign you're looking for."})),Object(l.a)(t,C.c,Object(z.e)({id:"wayfi.contacts_limited_access_message",defaultMessage:"You need to be an account Owner, Admin, or Manager to search contacts. Talk to your account Owner or Admin about changing your level or ask a qualifying teammate to find the contact you're looking for."})),Object(l.a)(t,C.e,Object(z.e)({id:"wayfi.features_limited_access_message",defaultMessage:"Your user level doesn’t have access to some features which could cause you to be redirected. Talk to your account Owner or Admin about changing your level."})),t),learnMore:Object(z.e)({id:"wayfi.limited_access_learn_more",defaultMessage:"Learn more"})}},rt=a(5062),ct=a.n(rt),lt=function(e){var t=e.title,a=e.message,n=nt().learnMore;return t&&a?o.a.createElement("div",{className:ct.a.container},o.a.createElement(m.G,{inline:!0,title:t,variant:"default"},o.a.createElement(m.Pb,{gap:1},o.a.createElement("p",null,a),o.a.createElement(at.b,{className:ct.a.link,rel:"noopener noreferrer",to:"https://mailchimp.com/help/manage-user-levels-in-your-account/",target:"_blank"},o.a.createElement("span",null,n))))):o.a.createElement(o.a.Fragment,null)},st=a(2824),it=a(365),ut=new st.a(it.a.WAYFI_GENAI_SEARCH,it.b.PROVISIONAL),ot=Object(u.createContext)({getAuthToken:function(){return Object(R.c)("d5ed90b49d042da070f480f3c8df378d")?ut.getXApiToken():null}}),dt=a(5064),pt=a.n(dt),ft=a(1356),mt=a(5066),bt=a.n(mt),ht=function(e){var t=e.inputValue,a=e.getXapiToken,n=e.setIsUniversalSearchOpen,r=Object(u.useContext)(q.a).isRightRailOpen,c=Object(ft.b)(),s=c.showAppSearchDialogue,i=c.setShowAppSearchDialogue,d=Object(u.useRef)(!1),b=Object(u.useRef)(null),g=Object(v.a)(),E=g.isDesktop,_=g.isMax,O=K(),j=O.UNIVERSAL_SEARCH_FILTER_SEARCH_TEXT,y=O.UNIVERSAL_SEARCH_MAILCHIMP;Object(u.useEffect)((function(){var e=!Object(R.c)("755cac7982c4b348d752b61eb984bbbe")||!r;null!=d&&d.current&&!s&&null!=b&&b.current&&e&&b.current.focus(),d&&(d.current=s)}),[s,d,b,r]);var k=y,S=function(){a(),i(!0),n(!0),f.a.track(h.UniversalSearchBarEvent)};return r||!_&&!E?o.a.createElement(m.R,{className:p()(bt.a["search-button"],Object(l.a)({},bt.a["right-rail-opened"],r)),label:"search",icon:o.a.createElement("span",{className:p()(bt.a["search-icon"],Object(l.a)({},bt.a["right-rail-opened"],r))}),onClick:S,ref:b}):o.a.createElement("button",{className:p()(bt.a["search-button"],Object(l.a)({},bt.a["search-button-hover"],Object(R.c)("7802b8f09cf19f91e77be1add07a0782"))),onClick:S,type:"button",ref:b},o.a.createElement("span",{"aria-hidden":"true",className:bt.a["search-icon"]}),o.a.createElement("span",{className:bt.a["button-text"]},(null==t?void 0:t.length)>0?j+t:k))},vt=a(7880),gt=a.n(vt),Et=function(){var e={SEARCH_CTA_ARIA_LABEL:Object(z.e)({id:"wayfi.search_cta_aria_label",defaultMessage:"Search"})}.SEARCH_CTA_ARIA_LABEL;return o.a.createElement("button",{type:"submit","aria-label":e,className:gt.a["app-search-cta-button"]},o.a.createElement(ne.Fc,null))},_t=a(5068),Ot=a.n(_t),jt=function(e){var t=e.clearInputAndResults,a=e.handleInputValueChange,n=e.handleRequestClose,r=e.inputValue,c=e.isFetching,s=e.results,i=Object(u.useRef)(null),d=Object(ft.b)().showAppSearchDialogue;Object(u.useEffect)((function(){d&&null!=i&&i.current&&i.current.focus()}),[d,i]);var f=function(e){var a;return e.preventDefault(),c||t(),null==i||null===(a=i.current)||void 0===a?void 0:a.focus()},m=function(e){var t;a(null==e||null===(t=e.target)||void 0===t?void 0:t.value)};return Object(R.c)("7802b8f09cf19f91e77be1add07a0782")?o.a.createElement(W,{expanded:null!==s&&(null==s?void 0:s.total)>0,onChange:m,ref:i,value:r},o.a.createElement(o.a.Fragment,null,((null==r?void 0:r.length)>0||null!==s)&&o.a.createElement(et,{isDisabled:c,onClick:f}),o.a.createElement(Et,null))):o.a.createElement(W,{expanded:null!==s&&(null==s?void 0:s.total)>0,onChange:m,ref:i,value:r},o.a.createElement(o.a.Fragment,null,((null==r?void 0:r.length)>0||null!==s)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(et,{isDisabled:c,onClick:f}),o.a.createElement("span",{className:p()(Ot.a["vertical-bar"],Object(l.a)({},Ot.a["vertical-bar-inline"],Object(R.c)("7802b8f09cf19f91e77be1add07a0782")))})),o.a.createElement(tt,{onRequestClose:n})))},yt=a(5070),kt=a.n(yt),St=function(e){var t,a=e.searchParams,n=e.handleUpdateSearchParamsAfterAudienceChange,r=e.handleUpdateSearchParamsAfterFilterClick,d=Object(u.useState)(null),p=Object(i.a)(d,2),m=p[0],b=p[1],v=K().UNIVERSAL_SEARCH_FILTER_SEARCH_BY,E=Object(g.b)(),_=(t={},Object(l.a)(t,C.c,h.UniversalSearchContactsFilter),Object(l.a)(t,C.a,h.UniversalSearchCampaignsFilter),Object(l.a)(t,C.e,h.UniversalSearchFeaturesFilter),Object(l.a)(t,C.h,h.UniversalSearchHelpFilter),t),O=function(){var e;return(null==m||null===(e=m.audienceList)||void 0===e?void 0:e.length)>1&&(null==a?void 0:a.filter)===C.c},j=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(E);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){e===C.c&&null===m&&j();var t=_[e];f.a.track(t),r(e)},k=function(e){f.a.track(h.UniversalSearchAudienceFilter),n(e)};return Object(R.c)("7802b8f09cf19f91e77be1add07a0782")?o.a.createElement("div",null,o.a.createElement("div",{className:kt.a["filter-wrapper"]},o.a.createElement($,{onClick:y,selected:null==a?void 0:a.filter}),O()&&o.a.createElement("div",{className:kt.a["selector-wrapper"]},o.a.createElement(ae,{audienceList:null==m?void 0:m.audienceList,onChange:k,selected:null==a?void 0:a.listId})))):o.a.createElement("div",null,o.a.createElement("span",{className:kt.a["sub-heading"]},v),o.a.createElement("div",{className:kt.a["filter-wrapper"]},o.a.createElement($,{onClick:y,selected:null==a?void 0:a.filter}),O()&&o.a.createElement("div",{className:kt.a["selector-wrapper"]},o.a.createElement(ae,{audienceList:null==m?void 0:m.audienceList,onChange:k,selected:null==a?void 0:a.listId}))))},Rt=a(5072),Ct=a.n(Rt);function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Tt=function(e){var t,a=e.handleRequestClose,n=e.isFetching,r=e.results,c=e.searchParams,l=e.updateResults,s=K().LOADING_SEARCH_RESULTS,i=function(){return n&&1===(null==c?void 0:c.page)},u={feature:Se,contact:je,campaign:ue,ad:ue,kb:xe};return o.a.createElement(o.a.Fragment,null,i()&&o.a.createElement("div",{className:Ct.a.loading,"aria-live":"polite"},o.a.createElement(m.cb,{type:"large"},s)),r&&r.error&&!n&&o.a.createElement(Ye,null),null!==r&&!r.error&&!i()&&o.a.createElement(o.a.Fragment,null,o.a.createElement(qe,{hideLabel:0===(null==r?void 0:r.total),onRequestClose:a,resultTypes:u,results:null==r?void 0:r.displayed,searchInput:null==c?void 0:c.searchTerm,total:null==r?void 0:r.total},(null==r||null===(t=r.displayed)||void 0===t?void 0:t.length)<(null==r?void 0:r.total)?o.a.createElement(Ge,{onClick:function(){var e,t,a,n,c=null==r||null===(e=r.all)||void 0===e?void 0:e.slice(null==r||null===(t=r.displayed)||void 0===t?void 0:t.length,(null==r||null===(a=r.displayed)||void 0===a?void 0:a.length)+20),s=wt(wt({},r),{},{displayed:null==r||null===(n=r.displayed)||void 0===n?void 0:n.concat(c)});l(s)}}):null),0===(null==r?void 0:r.total)&&o.a.createElement(Ze,null)))};function Nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Nt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=function(e){var t,a,r=e.setIsUniversalSearchOpen,d=Object(g.b)(),E=Object(v.a)(),_=E.isDesktop,O=E.isMax,j=K(),y=j.LOADING_SEARCH_RESULTS,k=j.UNIVERSAL_SEARCH_FILTER_SEARCH_TEXT,S=j.UNIVERSAL_SEARCH_FILTER_SEARCH_BY,A=j.UNIVERSAL_SEARCH_MAILCHIMP,w=j.UNIVERSAL_FILTER_FEATURES,T=j.UNIVERSAL_FILTER_CAMPAIGNS,I=j.UNIVERSAL_SEARCH_FILTER_CONTACTS,U=j.UNIVERSAL_FILTER_KB,L=nt(),P=L.title,D=L.message,F=Object(u.useContext)(q.a).isRightRailOpen,B=Object(u.useContext)(ot).getAuthToken,X=Object(u.useRef)(Object(b.a)()),z=Object(u.useRef)(null),Y=Object(u.useRef)(null),J=Object(u.useRef)(!1),Z=Object(u.useState)(""),Q=Object(i.a)(Z,2),ee=Q[0],te=Q[1],ne=Object(u.useState)(null),re=Object(i.a)(ne,2),ce=re[0],le=re[1],se=A,ie=Object(u.useState)({searchTerm:"",page:1,filter:null,listId:"",xapiToken:{token:null,expires:new Date(Date.now())}}),oe=Object(i.a)(ie,2),de=oe[0],pe=oe[1],fe=Object(u.useState)(!1),me=Object(i.a)(fe,2),be=me[0],he=me[1],ve=Object(u.useState)(null),ge=Object(i.a)(ve,2),Ee=ge[0],_e=ge[1],Oe=!O&&!_,ye=Object(ft.b)(),ke=ye.showAppSearchDialogue,Re=ye.setShowAppSearchDialogue,Ce=function(){return be&&1===de.page},Ae=function(){var e=Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(R.c)("d5ed90b49d042da070f480f3c8df378d")){e.next=7;break}return e.next=3,B().catch((function(){return null}));case 3:t=e.sent,pe((function(e){return xt(xt({},e),{},{xapiToken:t})})),e.next=12;break;case 7:if(!N(de.xapiToken)){e.next=12;break}return e.next=10,x(X.current);case 10:a=e.sent,pe((function(e){return xt(xt({},e),{},{xapiToken:a})}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(d);case 2:t=e.sent,_e(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){return!d.hasRole("manager")&&de.filter===C.e||!d.hasRole("manager")&&de.filter===C.c||!d.hasRole("author")&&de.filter===C.a},Ne={feature:Se,contact:je,campaign:ue,ad:ue};Ne.kb=xe;var Ie,Ue,Pe,De=(t={},Object(l.a)(t,C.c,h.UniversalSearchContactsFilter),Object(l.a)(t,C.a,h.UniversalSearchCampaignsFilter),Object(l.a)(t,C.e,h.UniversalSearchFeaturesFilter),Object(l.a)(t,C.h,h.UniversalSearchHelpFilter),t),Fe=function(){Ae(),r(!0),f.a.track(h.UniversalSearchBarEvent),Re(!0)},He=function(){Re(!1),r(!1)},Me=function(e){e.preventDefault(),h.UniversalSearchInput.search_input=ee,f.a.track(h.UniversalSearchInput),pe((function(e){return xt(xt({},e),{},{searchTerm:ee,page:1})}))},Ve=function(e){te(e)},Be=function(){te(""),le(null),pe((function(e){return xt(xt({},e),{},{filter:null,page:1,searchTerm:""})}))},Xe=function(e){Object(R.c)("c1c87ed0066c6853d1257f1a8a42f3ba")&&le(null),pe((function(t){return xt(xt({},t),{},{filter:(null==de?void 0:de.filter)===e?null:e,listId:"",page:1})}))},ze=function(e){pe((function(t){return xt(xt({},t),{},{listId:e})}))};return Object(u.useEffect)((function(){F&&!_&&Re(!1)}),[_,F,Re]),Object(u.useEffect)((function(){var e=function(){var e=Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he(!0),1!==de.page){e.next=9;break}return e.next=4,M(xt(xt({},de),{},{intuit_tid:X.current,size:C.j,user:d}));case 4:0===(null==(t=e.sent)?void 0:t.total)&&(h.UniversalSearchClickResult.has_search_results=!1,h.UniversalSearchClickResult.result_type="",h.UniversalSearchClickResult.search_input=null==de?void 0:de.searchTerm,h.UniversalSearchClickResult.search_position=0,h.UniversalSearchClickResult.search_title="",f.a.track(h.UniversalSearchClickResult)),le(t),e.next=13;break;case 9:return e.next=11,H(xt(xt({},de),{},{size:C.j}));case 11:a=e.sent,le((function(e){if(null!==e){var t=[].concat(Object(n.a)(e.all),Object(n.a)(a.results));return xt(xt({},e),{},{all:t,esResults:t.length})}}));case 13:he(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();de.searchTerm.length&&Object(R.b)("d5ed90b49d042da070f480f3c8df378d")&&e()}),[de,d]),Object(u.useEffect)((function(){var e=function(){var e=Object(s.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(R.c)("c1c87ed0066c6853d1257f1a8a42f3ba")||(d.hasRole("manager")||de.filter!==C.c)&&(d.hasRole("author")||de.filter!==C.a)){e.next=2;break}return e.abrupt("return");case 2:return he(!0),e.next=5,B().catch((function(){return null}));case 5:if(t=e.sent,1!==de.page){e.next=14;break}return e.next=9,M(xt(xt({},de),{},{intuit_tid:X.current,size:C.j,user:d,xapiToken:t}));case 9:0===(null==(a=e.sent)?void 0:a.total)&&(h.UniversalSearchClickResult.has_search_results=!1,h.UniversalSearchClickResult.result_type="",h.UniversalSearchClickResult.search_input=null==de?void 0:de.searchTerm,h.UniversalSearchClickResult.search_position=0,h.UniversalSearchClickResult.search_title="",f.a.track(h.UniversalSearchClickResult)),le(a),e.next=18;break;case 14:return e.next=16,H(xt(xt({},de),{},{size:C.j}));case 16:r=e.sent,le((function(e){if(null!==e){var t=[].concat(Object(n.a)(e.all),Object(n.a)(r.results));return xt(xt({},e),{},{all:t,esResults:t.length})}}));case 18:he(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();de.searchTerm.length&&Object(R.c)("d5ed90b49d042da070f480f3c8df378d")&&e()}),[B,de,d]),Object(u.useEffect)((function(){null!==ce&&de.filter===C.h&&ce.total>ce.all.length&&ce.all.length-ce.displayed.length<40&&ce.all.length===de.page*C.j&&pe((function(e){return xt(xt({},e),{},{page:e.page+1})}))}),[ce,de]),Object(u.useEffect)((function(){de.filter!==C.h&&null!==ce&&ce.all.length<ce.total&&ce.all.length-ce.displayed.length<40&&ce.esResults===de.page*C.j&&pe((function(e){return xt(xt({},e),{},{page:e.page+1})}))}),[ce,de]),Object(u.useEffect)((function(){ke&&z.current&&z.current.focus()}),[ke,z]),Object(u.useEffect)((function(){null!=J&&J.current&&!ke&&null!=Y&&Y.current&&Y.current.focus(),J&&(J.current=ke)}),[ke,J,Y]),Object(R.c)("8945da954b0dcbe92247360ee8bd9eae")?o.a.createElement("div",{className:p()(pt.a.root,(Ie={},Object(l.a)(Ie,pt.a["right-rail-opened"],F),Object(l.a)(Ie,pt.a["handle-live-help"],Object(R.c)("a6a0cd870696f9122c7a7151658dd5b4")),Ie))},o.a.createElement(ht,{inputValue:ee,getXapiToken:Ae,setIsUniversalSearchOpen:r}),ke&&o.a.createElement(G,{onRequestClose:He},o.a.createElement("form",{onSubmit:Me,className:pt.a["search-form"]},Object(R.c)("7802b8f09cf19f91e77be1add07a0782")?o.a.createElement("span",{className:pt.a["app-search-header"]},o.a.createElement("span",{className:pt.a["app-search-input-and-close-button"]},o.a.createElement(jt,{inputValue:ee,handleInputValueChange:Ve,clearInputAndResults:Be,isFetching:be,results:ce}),o.a.createElement(tt,{onRequestClose:He})),o.a.createElement(St,{handleUpdateSearchParamsAfterFilterClick:Xe,handleUpdateSearchParamsAfterAudienceChange:ze,searchParams:de})):o.a.createElement(o.a.Fragment,null,o.a.createElement(jt,{inputValue:ee,handleRequestClose:He,handleInputValueChange:Ve,clearInputAndResults:Be,isFetching:be,results:ce}),o.a.createElement(St,{handleUpdateSearchParamsAfterFilterClick:Xe,handleUpdateSearchParamsAfterAudienceChange:ze,searchParams:de})),Object(R.c)("c1c87ed0066c6853d1257f1a8a42f3ba")&&Te()&&o.a.createElement(lt,{title:null==P?void 0:P[de.filter],message:null==D?void 0:D[de.filter]}),o.a.createElement(Tt,{searchParams:de,handleRequestClose:He,updateResults:function(e){le(e)},isFetching:be,results:ce})),o.a.createElement(Le,null))):o.a.createElement("form",{className:p()(pt.a.root,(a={},Object(l.a)(a,pt.a["right-rail-opened"],F),Object(l.a)(a,pt.a["handle-live-help"],Object(R.c)("a6a0cd870696f9122c7a7151658dd5b4")),a)),onSubmit:function(e){return Me(e)}},F||Oe?o.a.createElement(m.R,{className:p()(pt.a["search-button"],Object(l.a)({},pt.a["right-rail-opened"],F)),label:"search",icon:o.a.createElement("span",{className:p()(pt.a["search-icon"],Object(l.a)({},pt.a["right-rail-opened"],F))}),onClick:Fe,ref:Y}):o.a.createElement("button",{className:pt.a["search-button"],onClick:Fe,type:"button",ref:Y},o.a.createElement("span",{"aria-hidden":"true",className:pt.a["search-icon"]}),o.a.createElement("span",{className:pt.a["button-text"]},(null==ee?void 0:ee.length)>0?k+ee:se)),ke&&o.a.createElement(G,{isOpen:ke,onRequestClose:He},o.a.createElement(W,{expanded:null!==ce&&ce.total>0,onChange:function(e){return te(e.target.value)},ref:z,value:ee},o.a.createElement(o.a.Fragment,null,((null==ee?void 0:ee.length)>0||null!==ce)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(et,{isDisabled:be,onClick:function(e){e.preventDefault(),be||(te(""),le(null),pe((function(e){return xt(xt({},e),{},{filter:null,page:1,searchTerm:""})}))),z.current.focus()}}),o.a.createElement("span",{className:pt.a["vertical-bar"]})),o.a.createElement(tt,{onRequestClose:He}))),o.a.createElement("div",null,o.a.createElement("span",{className:pt.a["sub-heading"]},S),o.a.createElement("div",{className:pt.a["filter-wrapper"]},o.a.createElement($,{filters:(Pe=[{label:I,value:C.c},{label:T,value:C.a},{label:w,value:C.e}],Pe.push({label:U,value:C.h}),!d.hasRole("manager")&&Object(R.b)("c1c87ed0066c6853d1257f1a8a42f3ba")?Pe.filter((function(e){return e.value!==C.c})):Pe),onClick:function(e){e===C.c&&null===Ee&&we();var t=De[e];f.a.track(t),Object(R.c)("c1c87ed0066c6853d1257f1a8a42f3ba")&&le(null),pe((function(t){return xt(xt({},t),{},{filter:de.filter===e?null:e,listId:"",page:1})}))},selected:de.filter}),(null==Ee||null===(Ue=Ee.audienceList)||void 0===Ue?void 0:Ue.length)>1&&de.filter===C.c&&o.a.createElement("div",{className:pt.a["selector-wrapper"]},o.a.createElement(ae,{audienceList:Ee.audienceList,onChange:function(e){f.a.track(h.UniversalSearchAudienceFilter),pe((function(t){return xt(xt({},t),{},{listId:e})}))},selected:de.listId})))),Object(R.c)("c1c87ed0066c6853d1257f1a8a42f3ba")&&Te()&&o.a.createElement(lt,{title:null==P?void 0:P[de.filter],message:null==D?void 0:D[de.filter]}),Ce()&&o.a.createElement("div",{className:pt.a.loading,"aria-live":"polite"},o.a.createElement(m.cb,{type:"large"},y)),ce&&ce.error&&!be&&o.a.createElement(Ye,null),null!==ce&&!ce.error&&!Ce()&&o.a.createElement(o.a.Fragment,null,o.a.createElement(qe,{hideLabel:0===ce.total,onRequestClose:He,resultTypes:Ne,results:ce.displayed,searchInput:de.searchTerm,total:ce.total},ce.displayed.length<ce.total?o.a.createElement(Ge,{onClick:function(){var e=ce.all.slice(ce.displayed.length,ce.displayed.length+20),t=xt(xt({},ce),{},{displayed:ce.displayed.concat(e)});le(t)}}):null),0===ce.total&&o.a.createElement(Ze,null)),o.a.createElement(Le,null)))}}}]);
//# sourceMappingURL=444.f7da589926841089a2b7.js.map