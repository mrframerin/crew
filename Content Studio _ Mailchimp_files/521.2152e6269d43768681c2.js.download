(window.webpackJsonp=window.webpackJsonp||[]).push([[521],{2035:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var c=n(6),i=n.n(c),a=n(1),r=n(12),o=n(5),u=n(0),l=n.n(u),s=(n(29),n(386)),d=n(488),b=n(2184),f=n(447),O=n(50),p=n(81),j=n(2185),v=n(288),h=n(221),w=n(76),y=n(336),g=n(7),E=n(623),P=n(2174);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=e.shouldShowLiveExpertHelp,n=void 0!==t&&t,c=Object(u.useState)(!1),a=Object(o.a)(c,2),m=a[0],C=a[1],S=Object(u.useState)(s.c),k=Object(o.a)(S,2),_=k[0],L=k[1],I=Object(u.useState)("oicu-url-funnel"),M=Object(o.a)(I,2),D=M[0],R=M[1],U=Object(u.useState)(null),A=Object(o.a)(U,2),G=A[0],H=A[1],J=Object(u.useState)(!1),T=Object(o.a)(J,2),B=T[0],F=T[1],q=Object(u.useContext)(h.a).instance,z=Object(w.b)(),K=z.isCr2,N=z.launchOicu,W=Object(E.a)().fetchTritonState,Q=p.a.adaUserMetafields,V=Object(f.a)(),X=[v.n,v.o,v.h,v.i,v.p,v.D,v.I,v.H,v.L,v.M,v.G,v.F,v.J,v.C,v.K,v.A,v.N,v.q,v.w,v.s,v.t,v.u,v.v,v.x],Y=K||N||n,Z=Object(b.a)(),$=Z.type,ee=Z.entryPoint,te=Z.intent,ne=Z.experience,ce=Z.clearAppointmentManagementParam,ie=Object(j.a)(),ae=ie.toggleOICU,re=ie.entryPoint,oe=Object(u.useContext)(y.a),ue=oe.setRightRailExperience,le=oe.showTritonExperience,se=oe.launchRightRailOrTriton,de=oe.setIntent,be=oe.isEligibilityLoading,fe=oe.openRightRail,Oe=oe.setShouldRehydrate,pe=oe.tritonCohort;Object(u.useEffect)((function(){q&&F(!0)}),[q]);var je=Object(u.useCallback)(function(){var e=Object(r.a)(i.a.mark((function e(t){var c,a,r,o,u,l,b,f,p,j,h,w,y,E,P,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=$||ee||te||ne,e.next=3,window.top.adaEmbed.getInfo();case 3:if(f=e.sent,p=null==f?void 0:f.isDrawerOpen,j=null!=t&&null!==(c=t.detail)&&void 0!==c&&c.experience?null==t||null===(a=t.detail)||void 0===a?void 0:a.experience:te?s.b:s.a,h=null!=t&&null!==(r=t.detail)&&void 0!==r&&r.entryPoint?null==t||null===(o=t.detail)||void 0===o?void 0:o.entryPoint:ee||v.l,w=(null==t||null===(u=t.detail)||void 0===u?void 0:u.intent)||te,Object(g.c)("2d23fdae12c3d498f43d8f7a6bb09356")&&(j=(null==t||null===(y=t.detail)||void 0===y?void 0:y.experience)||s.a,h=(null==t||null===(E=t.detail)||void 0===E?void 0:E.entryPoint)||v.l,w=(null==t||null===(P=t.detail)||void 0===P?void 0:P.intent)||te),!le){e.next=18;break}if(m=!0,!Object(g.c)("f3e5d48c1ae293485c7ba3675ffea94a")||b||pe!==d.a){e.next=15;break}return e.next=14,W();case 14:m=e.sent;case 15:m?(te&&de(te),w&&de(w),ue(j),se(h),p&&window.top.adaEmbed.toggle()):V(x(x({},Q),{},{right_rail_general_cohort_eligible:!1}),{workflow:"OICU_chat"},!1),e.next=19;break;case 18:Y||X.includes(null==t||null===(l=t.detail)||void 0===l?void 0:l.entryPoint)?(L(j),R(h),C(!0),H(w),p&&window.top.adaEmbed.toggle()):b&&O.Bugsnag.notify("User attempted to access OICU deep link but was not able to launch OICU",(function(e){e.addMetadata("OicuDeepLink",{deepLinkEntryPoint:ee,deepLinkExperience:ne,deepLinkIntent:te,type:$,isCr2:K,launchOicu:N,shouldShowLiveExpertHelp:n})}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[$,ee,te,ne,le,Y,X,pe,W,V,Q,ue,se,de,K,N,n]);return Object(u.useEffect)((function(){return window.addEventListener("launch_oicu",je),window.addEventListener("launch_oicu_phones",je),function(){window.removeEventListener("launch_oicu",je),window.removeEventListener("launch_oicu_phones",je)}}),[je]),Object(u.useEffect)((function(){Object(g.c)("2d23fdae12c3d498f43d8f7a6bb09356")&&$&&B&&(Object(g.c)("6881b9e536787640b6adba41f5a5db34")?le&&!be?(Oe(!1),de(te),ue(ne||s.b),fe(ee),ce()):be||(L(ne||s.b),R(ee),H(te),C(!0),ce()):(L(ne||s.b),R(ee),H(te),C(!0),ce()))}),[ce,ee,ne,te,B,be,fe,de,ue,Oe,le,$]),Object(u.useEffect)((function(){if(!Object(g.c)("2d23fdae12c3d498f43d8f7a6bb09356")&&$&&B){var e={detail:{experience:ne||s.b,entryPoint:ee}},t=new CustomEvent("launch_oicu",e);window.dispatchEvent(t)}}),[ne,B,ee,$,te]),Object(u.useEffect)((function(){if(ae&&B){var e={detail:{entryPoint:re,experience:s.c}},t=new CustomEvent("launch_oicu",e);window.dispatchEvent(t)}}),[Y,B,re,ae]),l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{isShowingBottomSheet:m,experience:_,setExperience:L,adaWorkflow:"OICU_chat",onContactSuccess:function(){return C(!1)},entryPoint:D,intent:G}))}},2741:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var c=n(52),i=n(5),a=n(0),r=n.n(a),o=n(102);var u=n(7),l=n(336),s=Object(a.createContext)({entryPointsAccessMap:new Map,entryPointCaseCategory:""}),d=function(e){var t=e.children,n=Object(a.useContext)(l.a).entryPoint,d=Object(a.useState)(new Map),b=Object(i.a)(d,2),f=b[0],O=b[1],p=Object(a.useState)(""),j=Object(i.a)(p,2),v=j[0],h=j[1];return Object(a.useEffect)((function(){var e,t;Object(u.c)("c84977deb5786d93b9deeea6648e9cd6")&&Object(o.b)("/mailchimp.humanassistance.entrypoints.EntryPointsService/Get",e,t).then((function(e){if("object"===Object(c.a)(e)&&e.hasOwnProperty("entryPoints")){var t=e.entryPoints,n=new Map(Object.entries(t));O(n)}})),Object(u.c)("62e9dda90b7ee0085299639a1e51eba6")&&null!==n&&function(e,t){return Object(o.b)("/mailchimp.humanassistance.entrypoints.CaseCategorizationService/Get",e,t)}(n).then((function(e){"object"===Object(c.a)(e)&&e.hasOwnProperty("category")&&h(e.category)}))}),[n]),r.a.createElement(s.Provider,{value:{entryPointsAccessMap:f,entryPointCaseCategory:v}},t)}}}]);
//# sourceMappingURL=521.2152e6269d43768681c2.js.map